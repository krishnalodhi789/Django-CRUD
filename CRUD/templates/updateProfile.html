<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.2/font/bootstrap-icons.min.css"
        integrity="sha512-D1liES3uvDpPrgk7vXR/hR/sukGn7EtDWEyvpdLsyalQYq6v6YUsTUJmku7B4rcuQ21rf0UTksw2i/2Pdjbd3g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>CRUD</title>
</head>

<body>
    {% include 'header.html' %}


    <!-- form here========================== -->
    <div class="coontainer-fluid">
        <div class="row py-3">
            <div class="col-4 m-auto shadow text-center ">
                <div class="mx-auto my-2 position-relative  border  rounded-circle overflow-hidden "
                    style="width: 250px;">
                    <img src="{{user.pic.url}}" class="card-img-top  bg-light rounded-circle overflow-hidden "
                        style="height: 200px;" id="user_img" alt="photo">

                    <label for="file_id" class="btn pt-0 pb-1  position-absolute w-100"
                        style="left: 0%; bottom: -5px; background-color: rgba(240, 248, 255, 0.815);"><i
                            class="bi bi-image h3"></i></label>
                </div>
                <form method='post' enctype="multipart/form-data">
                    {% csrf_token %}
                    <input class="form-control d-none" type="file" id="file_id" name="image"
                        onchange="selectImage(event)" value="{{user.pic.url}}" required>
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="floatingInput" name="name"
                            placeholder="name@example.com" value="{{user.name}}" required>
                        <label for="floatingInput">Name</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="floatingPassword" name="mobile"
                            placeholder="Password" value="{{user.mobile}}" required>
                        <label for="floatingPassword">Mobile No</label>
                    </div>
                    <div class="text-center mb-3 d-flex w-100 px-3">
                        <div><a href="{% url 'profileCollection'  %}"><button class="btn btn-dark px-4 "
                                    type="button">Back</button></a></div>
                        <div class="ms-auto"><input type="submit" value="Update"
                                class="btn btn-success px-4  me-auto" /></div>
                    </div>
                </form>
            </div>
        </div>
    </div>



    <script>
        function selectImage() {
            const image = document.getElementById("user_img")
            console.log(image.value)
            image.src = URL.createObjectURL(event.target.files[0])

        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>

</html>